"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var INVALIDATION_TIME = 1000 * 60 * 60; // 1 hour
function getOutdatedTimestampKeys(timestamps) {
    var allTimestampsKeys = Object.keys(timestamps);
    var currentTime = Date.now();
    return allTimestampsKeys.filter(function (key) {
        // eslint-disable-next-line radix
        var timestamp = parseInt(timestamps[key]);
        return timestamp + INVALIDATION_TIME < currentTime;
    });
}
function invalidateTranslations(i18n) {
    var timestamps = i18n.storage.timestamps();
    var outdatedTimestampKeys = getOutdatedTimestampKeys(timestamps);
    i18n.removeTranslationsForTimestampKeys(outdatedTimestampKeys);
    i18n.storage.removeTimestampsForTimestampKeys(outdatedTimestampKeys);
}
exports.default = invalidateTranslations;
